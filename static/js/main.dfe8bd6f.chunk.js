(this["webpackJsonpsnek-front"]=this["webpackJsonpsnek-front"]||[]).push([[0],{248:function(e,t,n){e.exports=n(609)},256:function(e,t,n){},434:function(e,t,n){},437:function(e,t,n){},450:function(e,t,n){},543:function(e,t,n){},609:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),s=n(34),a=n(14),c=n.n(a),i=(n(253),n(254),n(255),n(256),n(23)),l=(n(257),n(22));class u extends o.a.Component{componentDidUpdate(e){this.props.location!==e.location&&window.scrollTo(0,0)}render(){return this.props.children}}var h=Object(i.f)(u);o.a.Component;n(434);o.a.Component;var p=n(12),d=n.n(p),m=n(40);n(109),n(436),n(5),n(437);o.a.Component;n(41),n(450);o.a.Component;n(105);o.a.Component;o.a.Component;var f=n(242);n(543);class x extends o.a.Component{constructor(...e){super(...e),this.state={filter:"",usernames:[]},this.componentWillReceiveProps=e=>{e.globalState.loading||this.getUsernameList()},this.handleSelection=(e,t)=>{"user"===e?this.props.history.push("/u/"+t):"search_page"===e&&this.props.history.push("/search?q="+t)},this.search=e=>{const t=e.target.value;"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),this.handleSelection("search_page",t)):this.setState({filter:t})},this.getUsernameList=()=>{this.props.globalFunctions.users().then(e=>{this.setState({usernames:e})})}}render(){this.props.globalState;return o.a.createElement(l.m,{id:"search",onKeyUp:e=>this.search(e),getValue:e=>this.handleSelection("user",e),outline:!0},o.a.createElement(l.n,{selected:"Find a user"}),o.a.createElement(l.p,{search:!0,searchLabel:""},this.state.usernames?this.state.usernames.length>0&&this.state.filter.length>0?f.go(this.state.filter,this.state.usernames).map((e,t)=>o.a.createElement(l.o,{key:t,icon:"https://octodex.github.com/images/nyantocat.gif"},e.target)):null:o.a.createElement("span",null,"Loading")))}}Object(i.f)(x);var w=n(246);function g(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}var v=class{constructor(e={}){this.url=e}open(){const e=this.url;this.window=window.open(e,"_blank")}close(){this.cancel(),this.window.close()}poll(){this.promise=new Promise((e,t)=>{this.iid=window.setInterval(()=>{try{const n=this.window;if(!n||!1!==n.closed)return this.close(),void t(new Error("The popup was closed"));if(n.location.href===this.url||"blank"===n.location.pathname)return;const r=n.location.search.replace(/^\?/,"").split("&").reduce((e,t)=>{const n=t.split("="),r=Object(w.a)(n,2),o=r[0],s=r[1];return e[o]=s,e},{});e(r),this.close()}catch(n){}},500)})}cancel(){this.iid&&(window.clearInterval(this.iid),this.iid=null)}then(...e){return this.promise.then(...e)}catch(...e){return this.promise.then(...e)}static open(...e){const t=new this(...e);return t.open(),t.poll(),t}};class b extends r.Component{constructor(e){super(e),this.onBtnClick=this.onBtnClick.bind(this),this.onRequest=this.onRequest.bind(this),this.onSuccess=this.onSuccess.bind(this),this.onFailure=this.onFailure.bind(this)}onBtnClick(){const e=this.props,t=e.authorizationUrl,n=e.clientId,r=(e.clientSecret,function(e,t="&"){const n=Object.keys(e);return n.reduce((r,o,s)=>{let a="".concat(r).concat(o,"=").concat(e[o]);return s<n.length-1&&(a+=t),a},"")}({client_id:n,scope:e.scope,redirect_uri:e.redirectUri,response_type:"code"})),o=v.open("".concat(t,"?").concat(r));this.popup=o,this.onRequest(),o.then(e=>this.onSuccess(e),e=>this.onFailure(e))}onRequest(){(0,this.props.onRequest)()}onSuccess(e){var t=this;return Object(m.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.code){n.next=2;break}return n.abrupt("return",t.onFailure(new Error("'code' not found")));case 2:return n.t0="https://cors.snek.at/"+"https://github.com/login/oauth/access_token?code=".concat(e.code)+"&client_id=".concat(t.props.clientId)+"&client_secret=".concat(t.props.clientSecret)+"&redirect_uri=".concat(t.props.redirectUri),n.t1="&state=",n.next=6,g();case 6:return n.t2=n.sent,n.t3=n.t1.concat.call(n.t1,n.t2),r=n.t0+n.t3,n.next=11,fetch(r,{headers:{Accept:"application/json","Access-Allow-Credentials":"True","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Vary:"Origin"},method:"POST"}).then(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var n=Object(m.a)(d.a.mark((function n(r){var o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.access_token,n.next=3,fetch("https://api.github.com/user",{headers:{authorization:"Token "+o}}).then(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(n=>{e={username:n.login,accessToken:o};return(0,t.props.onSuccess)(e)});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 11:case"end":return n.stop()}}),n)})))()}onFailure(e){const t=this.props.onRequest;console.log(e),t(e)}render(){const e=this.props.className,t={onClick:this.onBtnClick};return e&&(t.className=e),o.a.createElement(l.c,Object.assign({color:"elegant"},t),o.a.createElement(l.g,{fab:!0,icon:"github",size:"lg"}))}}b.defaultProps={scope:"",onRequest:()=>{}};class E extends o.a.Component{render(){return o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",render:function(){return o.a.createElement("h1",null,"Root Layer 21:12")}}),o.a.createElement(i.a,{exact:!0,path:"/first",render:function(){return o.a.createElement("h1",null,"First Layer")}}),o.a.createElement(i.a,{exact:!0,path:"/first/second",render:function(){return o.a.createElement("h1",null,"Second Layer")}}),o.a.createElement(i.a,{path:"/first/second/third",render:function(){return o.a.createElement("h1",null,"Third Layer")}}),o.a.createElement(i.a,{render:function(){return o.a.createElement("h1",null,"Not Found")}}))}}var k=E;new(n(243).Intel);class y extends o.a.Component{render(){return console.log("STATE MAP: Render - LOC App.js"),o.a.createElement(h,null,o.a.createElement("div",{className:"flyout"},o.a.createElement("main",null,o.a.createElement(k,null))))}}var C=Object(i.f)(y);const S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&navigator.serviceWorker.controller}}}).catch(e=>{})}c.a.render(o.a.createElement(s.a,null,o.a.createElement(C,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("","/service-worker.js");S?function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):j(e)}).catch(()=>{})}(e):j(e)})}}()}},[[248,1,2]]]);
//# sourceMappingURL=main.dfe8bd6f.chunk.js.map